type Query {
    getBooks(first: Int = 100, _filter: BookQueryInput): [Book!]!
    getBook(id: Int!): Book
    getReview(id: Int!, book_id: Int!): Review
    getReviews(_filter: String): [Review!]!
    books(first: Int, after: String, _filter: String): BookConnection!
    reviews(first: Int, after: String, _filter: String): ReviewConnection!
}

type Mutation {
    editBook(id: Int!, title: String, publisher_id: Int): Book
    insertBook(title: String!, publisher_id: Int!): Book
    addAuthorToBook(author_id: Int!, book_id: Int!): Boolean
    deleteBook(id: Int!): Book
}

type Publisher {
    id: Int!
    name: String!
    books(first: Int = 100, _filter: String): [Book!]!
    paginatedBooks(first: Int, after: String, _filter: String): BookConnection!
}

type Book {
    id: Int!
    title: String!
    publisher_id: Int!
    publisher: Publisher!
    reviews(first: Int = 100, _filter: String): [Review!]!
    paginatedReviews(first: Int, after: String, _filter: String): ReviewConnection!
    authors(first: Int = 100, _filter: String): [Author!]!
    paginatedAuthors(first: Int, after: String, _filter: String): AuthorConnection!
}

type Author {
    id: Int!
    name: String!
    birthdate: String!
    books(first: Int = 100, _filter: String): [Book!]!
    paginatedBooks(first: Int, after: String, _filter: String): BookConnection!
}

type Review {
    id: Int!
    content: String!
    book: Book!
}

type BookConnection {
    items: [Book!]!
    endCursor: String
    hasNextPage: Boolean!
}

type ReviewConnection {
    items: [Review!]!
    endCursor: String
    hasNextPage: Boolean!
}

type AuthorConnection {
    items: [Author!]!
    endCursor: String
    hasNextPage: Boolean!
}

input StringQueryInput {
  eq: String
  neq: String
  contains: String
  notContains: String
  startsWith: String
  endWith: String
  caseInsensitive: Boolean
}

input IntQueryInput {
  eq: Int
  neq: Int
  lt: Int
  gt: Int
  lte: Int
  gte: Int
}

input BookQueryInput {
  inPrt: BookQueryInput
  and: [BookQueryInput]
  or: [BookQueryInput]
  id: IntQueryInput
  title: StringQueryInput
  publisher_id: IntQueryInput
}

input PublisherQueryInput {
    inPrt: PublisherQueryInput
    and: [PublisherQueryInput]
    or: [PublisherQueryInput]
    id: IntQueryInput,
    name: StringQueryInput
}

input AuthorQueryInput {
    inPrt: AuthorQueryInput
    and: [AuthorQueryInput]
    or: [AuthorQueryInput]
    id: IntQueryInput,
    name: StringQueryInput
    birthdate: StringQueryInput
}

input ReviewQueryInput {
    inPrt: ReviewQueryInput
    and: [ReviewQueryInput]
    or: [ReviewQueryInput]
    id: IntQueryInput,
    content: StringQueryInput
}
