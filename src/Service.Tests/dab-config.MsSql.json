{
  "$schema": "https://github.com/Azure/data-api-builder/releases/download/vmajor.minor.patch/dab.draft.schema.json",
  "data-source": {
    "database-type": "mssql",
    "connection-string": "Server=tcp:127.0.0.1,1433;Persist Security Info=False;User ID=sa;Password=REPLACEME;MultipleActiveResultSets=False;Connection Timeout=5;",
    "options": {
      "set-session-context": true
    }
  },
  "runtime": {
    "rest": {
      "enabled": true,
      "path": "/api"
    },
    "graphql": {
      "enabled": true,
      "path": "/graphql",
      "allow-introspection": true
    },
    "host": {
      "cors": {
        "origins": [
          "http://localhost:5000"
        ],
        "allow-credentials": false
      },
      "authentication": {
        "provider": "StaticWebApps"
      },
      "mode": "development"
    }
  },
  "entities": {
    "Publisher": {
  "source": {
    "object": "publishers",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Publisher",
      "plural": "Publishers"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_01",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 1940"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_02",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 1940"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_03",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 1940"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_04",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 1940"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_06",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 1940"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "database_policy_tester",
      "actions": [
        {
          "action": "create",
          "policy": {
            "database": "@item.name ne \u0027New publisher\u0027"
          }
        },
        {
          "action": "update",
          "policy": {
            "database": "@item.id ne 1234"
          }
        },
        {
          "action": "read",
          "policy": {
            "database": "@item.id ne 1234 or @item.id gt 1940"
          }
        }
      ]
    }
  ],
  "relationships": {
    "books": {
      "cardinality": "many",
      "target.entity": "Book",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Stock": {
  "source": {
    "object": "stocks",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Stock",
      "plural": "Stocks"
    }
  },
  "rest": {
    "enabled": true,
    "path": "/commodities",
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterFieldIsNull_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterFieldIsNull_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "database_policy_tester",
      "actions": [
        {
          "action": "create",
          "policy": {
            "database": "@item.pieceid ne 6 and @item.piecesAvailable gt 0"
          }
        },
        {
          "action": "update",
          "policy": {
            "database": "@item.pieceid ne 1"
          }
        }
      ]
    }
  ],
  "relationships": {
    "stocks_price": {
      "cardinality": "one",
      "target.entity": "stocks_price",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Book": {
  "source": {
    "object": "books",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "book",
      "plural": "books"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_01",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.title eq \u0027Policy-Test-01\u0027"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_02",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.title ne \u0027Policy-Test-01\u0027"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_03",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.title eq \u0027Policy-Test-01\u0027"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_04",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.title ne \u0027Policy-Test-01\u0027"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_05",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 9"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_06",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 10"
          }
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_07",
      "actions": [
        {
          "action": "delete",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 9"
          }
        },
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 9"
          }
        },
        {
          "action": "create",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_08",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "delete",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 9"
          }
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 9"
          }
        },
        {
          "action": "create",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "id": "id",
    "title": "title"
  },
  "relationships": {
    "publishers": {
      "cardinality": "one",
      "target.entity": "Publisher",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    },
    "websiteplacement": {
      "cardinality": "one",
      "target.entity": "BookWebsitePlacement",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    },
    "reviews": {
      "cardinality": "many",
      "target.entity": "Review",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    },
    "authors": {
      "cardinality": "many",
      "target.entity": "Author",
      "source.fields": [],
      "target.fields": [],
      "linking.object": "book_author_link",
      "linking.source.fields": [
        "book_id"
      ],
      "linking.target.fields": [
        "author_id"
      ]
    }
  }
},
    "BookWebsitePlacement": {
  "source": {
    "object": "book_website_placements",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "BookWebsitePlacement",
      "plural": "BookWebsitePlacements"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "delete",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@claims.userId eq @item.id"
          }
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "books": {
      "cardinality": "one",
      "target.entity": "Book",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Author": {
  "source": {
    "object": "authors",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Author",
      "plural": "Authors"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "books": {
      "cardinality": "many",
      "target.entity": "Book",
      "source.fields": [],
      "target.fields": [],
      "linking.object": "book_author_link",
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Revenue": {
  "source": {
    "object": "revenues",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Revenue",
      "plural": "Revenues"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "database_policy_tester",
      "actions": [
        {
          "action": "create",
          "policy": {
            "database": "@item.revenue gt 1000"
          }
        }
      ]
    }
  ]
},
    "Review": {
  "source": {
    "object": "reviews",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "review",
      "plural": "reviews"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "books": {
      "cardinality": "one",
      "target.entity": "Book",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Comic": {
  "source": {
    "object": "comics",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Comic",
      "plural": "Comics"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterManyOne_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterManyOne_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterOneMany_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [
              "categoryName"
            ]
          },
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterOneMany_EntityReadForbidden",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "myseries": {
      "cardinality": "one",
      "target.entity": "series",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Broker": {
  "source": {
    "object": "brokers",
    "type": "table"
  },
  "graphql": {
    "enabled": false,
    "operation": null,
    "type": {
      "singular": "Broker",
      "plural": "Brokers"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ]
},
    "WebsiteUser": {
  "source": {
    "object": "website_users",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "websiteUser",
      "plural": "websiteUsers"
    }
  },
  "rest": {
    "enabled": false,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    }
  ]
},
    "SupportedType": {
  "source": {
    "object": "type_table",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "SupportedType",
      "plural": "SupportedTypes"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "id": "typeid"
  }
},
    "stocks_price": {
  "source": {
    "object": "stocks_price",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "stocks_price",
      "plural": "stocks_prices"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterFieldIsNull_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [
              "price"
            ]
          },
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterFieldIsNull_EntityReadForbidden",
      "actions": [
        {
          "action": "create",
          "policy": {}
        }
      ]
    }
  ]
},
    "Tree": {
  "source": {
    "object": "trees",
    "type": "table"
  },
  "graphql": {
    "enabled": false,
    "operation": null,
    "type": {
      "singular": "Tree",
      "plural": "Trees"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "species": "Scientific Name",
    "region": "United State\u0027s Region"
  }
},
    "Shrub": {
  "source": {
    "object": "trees",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Shrub",
      "plural": "Shrubs"
    }
  },
  "rest": {
    "enabled": true,
    "path": "/plants",
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "species": "fancyName"
  }
},
    "Fungus": {
  "source": {
    "object": "fungi",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "fungus",
      "plural": "fungi"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_01",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.region ne \u0027northeast\u0027"
          }
        }
      ]
    }
  ],
  "mappings": {
    "spores": "hazards"
  }
},
    "books_view_all": {
  "source": {
    "object": "books_view_all",
    "type": "view",
    "key-fields": [
      "id"
    ]
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "books_view_all",
      "plural": "books_view_alls"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ]
},
    "books_view_with_mapping": {
  "source": {
    "object": "books_view_with_mapping",
    "type": "view",
    "key-fields": [
      "id"
    ]
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "books_view_with_mapping",
      "plural": "books_view_with_mappings"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "id": "book_id"
  }
},
    "stocks_view_selected": {
  "source": {
    "object": "stocks_view_selected",
    "type": "view",
    "key-fields": [
      "categoryid",
      "pieceid"
    ]
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "stocks_view_selected",
      "plural": "stocks_view_selecteds"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ]
},
    "books_publishers_view_composite": {
  "source": {
    "object": "books_publishers_view_composite",
    "type": "view",
    "key-fields": [
      "id",
      "pub_id"
    ]
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "books_publishers_view_composite",
      "plural": "books_publishers_view_composites"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    }
  ]
},
    "books_publishers_view_composite_insertable": {
  "source": {
    "object": "books_publishers_view_composite_insertable",
    "type": "view",
    "key-fields": [
      "id",
      "publisher_id"
    ]
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "books_publishers_view_composite_insertable",
      "plural": "books_publishers_view_composite_insertables"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "get",
      "post",
      "put",
      "patch",
      "delete"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ]
},
    "Empty": {
  "source": {
    "object": "empty_table",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Empty",
      "plural": "Empties"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    }
  ]
},
    "Notebook": {
  "source": {
    "object": "notebooks",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Notebook",
      "plural": "Notebooks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        },
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item ne 1"
          }
        }
      ]
    }
  ]
},
    "Journal": {
  "source": {
    "object": "journals",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Journal",
      "plural": "Journals"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "policy_tester_noupdate",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id ne 1"
          }
        },
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "policy_tester_update_noread",
      "actions": [
        {
          "action": "delete",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 1"
          }
        },
        {
          "action": "read",
          "fields": {
            "exclude": [
              "*"
            ]
          },
          "policy": {}
        },
        {
          "action": "update",
          "fields": {
            "exclude": [],
            "include": [
              "*"
            ]
          },
          "policy": {
            "database": "@item.id eq 1"
          }
        },
        {
          "action": "create",
          "policy": {}
        }
      ]
    },
    {
      "role": "authorizationHandlerTester",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    }
  ]
},
    "ArtOfWar": {
  "source": {
    "object": "aow",
    "type": "table"
  },
  "graphql": {
    "enabled": false,
    "operation": null,
    "type": {
      "singular": "ArtOfWar",
      "plural": "ArtOfWars"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "DetailAssessmentAndPlanning": "\u59CB\u8A08",
    "WagingWar": "\u4F5C\u6230",
    "StrategicAttack": "\u8B00\u653B",
    "NoteNum": "\u252C\u2500\u252C\u30CE( \u00BA _ \u00BA\u30CE)"
  }
},
    "series": {
  "source": {
    "object": "series",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "series",
      "plural": "series"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterManyOne_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [
              "name"
            ]
          },
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterManyOne_EntityReadForbidden",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterOneMany_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterOneMany_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "comics": {
      "cardinality": "many",
      "target.entity": "Comic",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "Sales": {
  "source": {
    "object": "sales",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Sales",
      "plural": "Sales"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ]
},
    "GetBooks": {
  "source": {
    "object": "get_books",
    "type": "stored-procedure"
  },
  "graphql": {
    "enabled": true,
    "operation": "query",
    "type": {
      "singular": "GetBooks",
      "plural": "GetBooks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "get"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "GetBook": {
  "source": {
    "object": "get_book_by_id",
    "type": "stored-procedure"
  },
  "graphql": {
    "enabled": false,
    "operation": "mutation",
    "type": {
      "singular": "GetBook",
      "plural": "GetBooks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "get"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "GetPublisher": {
  "source": {
    "object": "get_publisher_by_id",
    "type": "stored-procedure",
    "parameters": {
      "id": 1
    }
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "GetPublisher",
      "plural": "GetPublishers"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "InsertBook": {
  "source": {
    "object": "insert_book",
    "type": "stored-procedure",
    "parameters": {
      "title": "randomX",
      "publisher_id": 1234
    }
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "InsertBook",
      "plural": "InsertBooks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "CountBooks": {
  "source": {
    "object": "count_books",
    "type": "stored-procedure"
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "CountBooks",
      "plural": "CountBooks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "DeleteLastInsertedBook": {
  "source": {
    "object": "delete_last_inserted_book",
    "type": "stored-procedure"
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "DeleteLastInsertedBook",
      "plural": "DeleteLastInsertedBooks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "UpdateBookTitle": {
  "source": {
    "object": "update_book_title",
    "type": "stored-procedure",
    "parameters": {
      "id": 1,
      "title": "Testing Tonight"
    }
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "UpdateBookTitle",
      "plural": "UpdateBookTitles"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "GetAuthorsHistoryByFirstName": {
  "source": {
    "object": "get_authors_history_by_first_name",
    "type": "stored-procedure",
    "parameters": {
      "firstName": "Aaron"
    }
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "SearchAuthorByFirstName",
      "plural": "SearchAuthorByFirstNames"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "InsertAndDisplayAllBooksUnderGivenPublisher": {
  "source": {
    "object": "insert_and_display_all_books_for_given_publisher",
    "type": "stored-procedure",
    "parameters": {
      "title": "MyTitle",
      "publisher_name": "MyPublisher"
    }
  },
  "graphql": {
    "enabled": true,
    "operation": "mutation",
    "type": {
      "singular": "InsertAndDisplayAllBooksUnderGivenPublisher",
      "plural": "InsertAndDisplayAllBooksUnderGivenPublishers"
    }
  },
  "rest": {
    "enabled": true,
    "methods": [
      "post"
    ]
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "execute",
          "policy": {}
        }
      ]
    }
  ]
},
    "GQLmappings": {
  "source": {
    "object": "GQLmappings",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "GQLmappings",
      "plural": "GQLmappings"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "__column1": "column1",
    "__column2": "column2"
  }
},
    "Bookmarks": {
  "source": {
    "object": "bookmarks",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "Bookmarks",
      "plural": "Bookmarks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ]
},
    "MappedBookmarks": {
  "source": {
    "object": "mappedbookmarks",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "MappedBookmarks",
      "plural": "MappedBookmarks"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "anonymous",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    },
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "*",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "id": "bkid",
    "bkname": "name"
  }
},
    "PublisherNF": {
  "source": {
    "object": "publishers",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "PublisherNF",
      "plural": "PublisherNFs"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilter_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilter_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterChained_EntityReadForbidden",
      "actions": [
        {
          "action": "create",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterChained_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [
              "name"
            ]
          },
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "books": {
      "cardinality": "many",
      "target.entity": "BookNF",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
},
    "BookNF": {
  "source": {
    "object": "books",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "bookNF",
      "plural": "booksNF"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilter_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilter_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterChained_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterChained_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    }
  ],
  "mappings": {
    "id": "id",
    "title": "title"
  },
  "relationships": {
    "publishers": {
      "cardinality": "one",
      "target.entity": "PublisherNF",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    },
    "websiteplacement": {
      "cardinality": "one",
      "target.entity": "BookWebsitePlacement",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    },
    "reviews": {
      "cardinality": "many",
      "target.entity": "Review",
      "source.fields": [],
      "target.fields": [],
      "linking.source.fields": [],
      "linking.target.fields": []
    },
    "authors": {
      "cardinality": "many",
      "target.entity": "AuthorNF",
      "source.fields": [],
      "target.fields": [],
      "linking.object": "book_author_link",
      "linking.source.fields": [
        "book_id"
      ],
      "linking.target.fields": [
        "author_id"
      ]
    }
  }
},
    "AuthorNF": {
  "source": {
    "object": "authors",
    "type": "table"
  },
  "graphql": {
    "enabled": true,
    "operation": null,
    "type": {
      "singular": "AuthorNF",
      "plural": "AuthorNFs"
    }
  },
  "rest": {
    "enabled": true,
    "methods": []
  },
  "permissions": [
    {
      "role": "authenticated",
      "actions": [
        {
          "action": "create",
          "policy": {}
        },
        {
          "action": "read",
          "policy": {}
        },
        {
          "action": "update",
          "policy": {}
        },
        {
          "action": "delete",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilter_EntityReadForbidden",
      "actions": [
        {
          "action": "create",
          "fields": {
            "exclude": [
              "name"
            ]
          },
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilter_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "fields": {
            "exclude": [
              "name"
            ]
          },
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterChained_EntityReadForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    },
    {
      "role": "TestNestedFilterChained_ColumnForbidden",
      "actions": [
        {
          "action": "read",
          "policy": {}
        }
      ]
    }
  ],
  "relationships": {
    "books": {
      "cardinality": "many",
      "target.entity": "BookNF",
      "source.fields": [],
      "target.fields": [],
      "linking.object": "book_author_link",
      "linking.source.fields": [],
      "linking.target.fields": []
    }
  }
}
  }
}